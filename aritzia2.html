<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cookie Preferences</title>
  
  <!-- OneTrust Cookies Consent Notice start for aritzia.com -->
  <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="019037a2-4718-7c29-be9e-b66e351d1ab6-test"></script>
  <script type="text/javascript">
    function OptanonWrapper() { 
      if (OneTrust.IsAlertBoxClosed() === false) {
        var banner = document.getElementById("onetrust-banner-sdk");
        var prefpc = document.getElementById("onetrust-pc-sdk");
        var filter = document.getElementsByClassName("onetrust-pc-dark-filter")[0];
        banner.style = "display: none;";
        prefpc.style = "display: block !important;animation: example1 3s linear";
        filter.style = "display: block !important;";
      }
    }
  </script>
  <script>
    // Listen for messages from the iframe
    window.addEventListener('message', function(event) {
      // Ensure the message is from the trusted OneTrust domain
      if (event.origin === 'https://privacyportal.onetrust.com') {
        console.log('Message received from OneTrust iframe:', event.data);
        // Display an alert when the form submission message is received
        if (event.data === 'formSubmitted') {
          alert('Form has been submitted!');
        }
      } else {
        console.log('Received message from untrusted origin:', event.origin);
      }
    });
  </script>
  <style>
    @keyframes example1 {
      0% { transform: translateY(-200%); }
      100% { transform: translateY(0%); }
    }

    .iframe-wrapper {
      display: none; /* Initially hidden */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
      justify-content: center;
      align-items: center;
      z-index: 1000; /* High z-index to overlay on top of everything */
    }
    .iframe-wrapper iframe {
      width: 80%;
      height: 80%;
      border: none;
    }
  </style>
  <!-- OneTrust Cookies Consent Notice end for aritzia.com -->
</head>
<body>
  <button onclick="Optanon.TriggerConsentUI()">Open Cookie Preferences</button>

  <!-- Iframe wrapper to display the form on top of the preference center -->
  <div class="iframe-wrapper" id="iframeWrapper">
    <iframe id="dsar-form-iframe" src="https://privacyportal.onetrust.com/webform/73cb21c4-9737-45b0-ba87-528432c7bbca/f210ef93-bff2-4af8-a2bd-bd871a2b0267"></iframe>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // This opens the preference center directly when the page loads
      Optanon.TriggerConsentUI();
    });

    // Function to show the iframe on top of the preference center
    function showIframe() {
      var iframeWrapper = document.getElementById('iframeWrapper');
      iframeWrapper.style.display = 'flex';
    }
  </script>
</body>
</html>
